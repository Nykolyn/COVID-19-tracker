(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{208:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(81),o=a.n(c),i=a(6),s=a.n(i),l=a(10),u=a(13),d=a(226),p=a(230),m=a(35),f=a.n(m),v=a(228),h=a(232),b=a(229),x=a(36),y=a.n(x),E=a(14),g=a.n(E),w=Object(d.a)({container:{margin:"30px 0"},card:{margin:"0 2% !important"},infected:{borderBottom:"10px solid rgba(0,0, 255, 0.5)"},recovered:{borderBottom:"10px solid rgba(0,255, 0, 0.5)"},dead:{borderBottom:"10px solid rgba(255,0, 0, 0.5)"}});function j(e){var t=e.confirmed,a=e.recovered,r=e.deaths,c=e.lastUpdate,o=w();return n.a.createElement("div",{className:o.container},n.a.createElement(v.a,{container:!0,spacing:20,justify:"center"},n.a.createElement(v.a,{item:!0,xs:12,md:3,component:h.a,className:f()(o.card,o.infected)},n.a.createElement(b.a,null,n.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0},"Infected"),n.a.createElement(p.a,{variant:"h5"},n.a.createElement(y.a,{start:0,end:t.value,duration:2.5,separator:"."})),n.a.createElement(p.a,{color:"textSecondary"},g()(c).format("MMMM Do YYYY, HH:MM:SS"),","," ",g()(c).fromNow()),n.a.createElement(p.a,{variant:"body2"},"Number of active cases of COVID-19"))),n.a.createElement(v.a,{item:!0,xs:12,md:3,component:h.a,className:f()(o.card,o.recovered)},n.a.createElement(b.a,null,n.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0},"Recovered"),n.a.createElement(p.a,{variant:"h5"},n.a.createElement(y.a,{start:0,end:a.value,duration:2.5,separator:"."})),n.a.createElement(p.a,{color:"textSecondary"},g()(c).format("MMMM Do YYYY, HH:MM:SS"),","," ",g()(c).fromNow()),n.a.createElement(p.a,{variant:"body2"},"Number of recoveries from COVID-19"))),n.a.createElement(v.a,{item:!0,component:h.a,xs:12,md:3,className:f()(o.card,o.dead)},n.a.createElement(b.a,null,n.a.createElement(p.a,{color:"textSecondary",gutterBottom:!0},"Deaths"),n.a.createElement(p.a,{variant:"h5"},n.a.createElement(y.a,{start:0,end:r.value,duration:2.5,separator:"."})),n.a.createElement(p.a,{color:"textSecondary"},g()(c).format("MMMM Do YYYY, HH:MM:SS"),","," ",g()(c).fromNow()),n.a.createElement(p.a,{variant:"body2"},"Number of deaths caused by COVID-19")))))}var O=a(233),k=a(231),N=a(37),S=a.n(N),M="https://covid19.mathdro.id/api",C=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,n,c,o,i,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=M,t&&"global"!==t&&(a="".concat(M,"/countries/").concat(t)),e.next=4,S.a.get(a);case 4:return r=e.sent,n=r.data,c=n.confirmed,o=n.recovered,i=n.deaths,l=n.lastUpdate,u={confirmed:c,recovered:o,deaths:i,lastUpdate:l},e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(M,"/daily"));case 2:return t=e.sent,a=t.data,r=a.map((function(e){var t=e.confirmed,a=e.deaths,r=e.reportDate;return{confirmed:t.total,deaths:a.total,date:r}})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(M,"/countries"));case 2:return t=e.sent,a=t.data,e.abrupt("return",a.countries);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=Object(d.a)({container:{display:"flex",justifyContent:"center",width:"60%"}});function Y(e){var t=e.onChange,a=e.country,c=D(),o=Object(r.useState)([]),i=Object(u.a)(o,2),d=i[0],p=i[1];Object(r.useEffect)((function(){m()}),[]);var m=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:t=e.sent,p(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error while fetching countries",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(O.a,{className:c.formControl},n.a.createElement(k.a,{defaultValue:"",value:a,onChange:t},n.a.createElement("option",{value:"global"},"Global"),d.map((function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)}))))}var B=a(49),U=Object(d.a)({container:{display:"flex",justifyContent:"center",width:"60%"}});function W(e){var t=e.confirmed,a=e.recovered,c=e.deaths,o=(e.lastUpdate,e.country),i=U(),d=Object(r.useState)(null),p=Object(u.a)(d,2),m=p[0],f=p[1],v=Object(r.useState)(!0),h=Object(u.a)(v,2),b=h[0],x=h[1];Object(r.useEffect)((function(){g()}),[]);var y=m&&n.a.createElement(B.b,{data:{labels:m.map((function(e){return e.date})),datasets:[{data:m.map((function(e){return e.confirmed})),label:"Infected",borderColor:"#3333ff",fill:!0},{data:m.map((function(e){return e.deaths})),label:"Deaths",borderColor:"red",backgroundColor:"rgba(255,0,0,0.5)",fill:!0}]}}),E=n.a.createElement(B.a,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(0,0, 255, 0.5)","rgba(0,255, 0, 0.5)","rgba(255,0, 0, 0.5)"],data:[t.value,a.value,c.value]}]},options:{legend:{display:!1},title:{display:!0,text:"Current state in ".concat(o)}}}),g=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=f,e.next=4,I();case 4:e.t1=e.sent,(0,e.t0)(e.t1),x(!1),e.next=13;break;case 9:e.prev=9,e.t2=e.catch(0),console.error("Error while getting daily data",e.t2),x(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return b?n.a.createElement(G,null):n.a.createElement("div",{className:i.container},o&&"global"!==o?E:y)}var H=a(50),P=a(51),_=a(52),z=a(32),F=a(54),V=a(53),J={positions:{1:"alpha",2:"bravo",3:"charlie",4:null,5:"delta",6:"echo",7:"foxtrot"},stateNumber:0},R=function(e){Object(F.a)(a,e);var t=Object(V.a)(a);function a(e){var r;return Object(P.a)(this,a),(r=t.call(this,e)).state=J,r.setNextState=r.setNextState.bind(Object(z.a)(r)),r}return Object(_.a)(a,[{key:"componentDidMount",value:function(){this.setTimer(150)}},{key:"setTimer",value:function(e){this.timer&&clearInterval(this.timer),this.timer=setInterval(this.setNextState,e)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"clipPathForPosition",value:function(e){var t="35% ";switch(e=parseInt(e,10)){case 1:return"inset(35% 70% 35% 0%  round 5%)";case 2:return"inset(0% 70% 70% 0%  round 5%)";case 3:return"inset(0% 35% 70% 35%  round 5%)";case 4:return"inset("+t+t+t+t+" round 5%)";case 5:return"inset(70% 35% 0% 35%  round 5%)";case 6:return"inset(70% 0% 0% 70%  round 5%)";case 7:return"inset(35% 0% 35% 70%  round 5%)";default:return null}}},{key:"tileIndexToMove",value:function(){switch(this.state.stateNumber){case 0:return 7;case 1:return 6;case 2:return 5;case 3:return 4;case 4:return 3;case 5:return 2;case 6:return 1;case 7:return 4;default:return null}}},{key:"positionForTile",value:function(e){for(var t in this.state.positions){if(this.state.positions[t]===e)return t}}},{key:"setNextState",value:function(){var e,t=this.state.positions,a=this.positionForTile(null),r=this.tileIndexToMove(),n=Object.assign({},t,(e={},Object(H.a)(e,r,null),Object(H.a)(e,a,t[r]),e)),c=this.state.stateNumber,o=7===c?0:c+1;this.setState({stateNumber:o,positions:n})}},{key:"renderTiles",value:function(){var e=this;return["alpha","bravo","charlie","delta","echo","foxtrot"].map((function(t){var a=e.positionForTile(t),r={transition:"0.5s cubic-bezier(0.86, 0, 0.07, 1)",WebkitClipPath:e.clipPathForPosition(a)};return n.a.createElement("div",{key:"rect-"+t,style:r,className:"rect "+t})}))}},{key:"render",value:function(){var e=this.props,t=e.size,a=e.style,r=e.center,c=Object.assign({width:"60px",height:"60px"},a);t&&(c.width=t+"px",c.height=t+"px");var o="sw-loader__wrapper";return r&&(o+=" sw-loader__wrapper--center"),n.a.createElement("div",{style:c,className:o},n.a.createElement("div",{className:"sw-loader__holder"},this.renderTiles()))}}]),a}(n.a.Component),G=function(e){Object(F.a)(a,e);var t=Object(V.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){var e={size:200};return n.a.createElement(R,e)}}]),a}(n.a.Component),L=Object(d.a)({container:{display:"flex",transition:"all 0.4s",opacity:1,alignItems:"center",flexDirection:"column",justifyContent:"center"},todos:{position:"fixed",top:"10px",left:"10px"},appTitleWrapper:{display:"flex",alignItems:"center"},appTitle:{fontSize:"50px",fontWeight:700,"@media screen and (max-width: 768px)":{fontSize:"20px"}},loader:{width:"calc(100vw - 100px)",height:"calc(100vh - 100px)",display:"flex",alignItems:"center",justifyContent:"center"}});function $(){var e=L(),t=Object(r.useState)({confirmed:{},recovered:{},deaths:{},lastUpdate:""}),a=Object(u.a)(t,2),c=a[0],o=a[1],i=Object(r.useState)(""),d=Object(u.a)(i,2),m=d[0],f=d[1],v=Object(r.useState)(!0),h=Object(u.a)(v,2),b=h[0],x=h[1];Object(r.useEffect)((function(){y()}),[]);var y=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:r=e.sent,o({confirmed:r.confirmed,recovered:r.recovered,deaths:r.deaths,lastUpdate:r.lastUpdate}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error while getting data: ",e.t0);case 10:setTimeout((function(){x(!1)}),a||2e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.prev=1,e.next=4,y(a.toLowerCase(),500);case 4:f(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("error while changing country",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return b?n.a.createElement("div",{className:e.loader},n.a.createElement(G,null)):n.a.createElement("div",{className:e.container},n.a.createElement("div",{className:e.appTitleWrapper},n.a.createElement(p.a,{className:e.appTitle},"C"),n.a.createElement("img",{src:"https://www.palig.com/Media/Default/Coronavirus/Virus%20Icon.png",alt:"covid-19"}),n.a.createElement(p.a,{className:e.appTitle}," vid - 19")),n.a.createElement(j,c),n.a.createElement(Y,{country:m,onChange:E}),n.a.createElement(W,Object.assign({},c,{country:m})))}a(208),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,a){e.exports=a(209)}},[[89,1,2]]]);
//# sourceMappingURL=main.90d7630c.chunk.js.map